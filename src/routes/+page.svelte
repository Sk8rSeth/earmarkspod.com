<script lang="ts">
  import { onMount } from 'svelte'
  import { fly } from 'svelte/transition'
  import { browser } from '$app/environment'
  import Head from '$lib/components/head.svelte'
  import Footer from '$lib/components/footer.svelte'
  import Profile from '$lib/components/index_profile.svelte'
  import { clickToCopy } from '$lib/utils/clickToCopy.js'

  let loaded: boolean
  let email = 'Earmarks@punk.dev'

  onMount(() => {
    if (browser) {
      loaded = true
    }
  })
</script>

<Head />

<div class="flex flex-col flex-nowrap justify-center xl:flex-row xl:flex-wrap h-feed">
  <div in:fly={{ x: 25, duration: 300, delay: 500 }} out:fly={{ x: 25, duration: 300 }} class="flex-1 w-full max-w-screen-md order-first mx-auto xl:mr-0 xl:ml-8 xl:max-w-md">
    <Profile />
  </div>
  <div in:fly={{ x: -25, duration: 300, delay: 500 }} out:fly={{ x: -25, duration: 300 }} class="flex-1 w-full max-w-screen-md xl:order-last mx-auto xl:ml-0 xl:mr-8 xl:max-w-md">
    <div class="sm:max-md:flex gap-2 overflow-x-auto xl:overflow-x-hidden overflow-y-hidden max-h-24 my-auto xl:max-h-fit max-w-fit xl:max-w-full pl-8 md:px-0 xl:pl-8 xl:pt-8">
      <div class="social"><a href="" class="icon hover:text-secondary youtube">
        <svg width='3rem' height='3rem' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><title>youtube_line</title><g stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'><g id='Brand' transform='translate(-912.000000, -0.000000)' fill-rule='nonzero'><g id='youtube_line' transform='translate(912.000000, 0.000000)'><path d='M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z' fill-rule='nonzero'></path><path d='M12,4 C12.8554231,4 13.7316302,4.02241864 14.5816652,4.05776684 L15.5861395,4.10578357 L15.5861395,4.10578357 L16.5474575,4.16256888 L16.5474575,4.16256888 L17.447588,4.22447896 L17.447588,4.22447896 L18.2685,4.28787 L18.2685,4.28787 C20.1065,4.43702 21.5836,5.85942 21.7633,7.71109 L21.8030749,8.13562908 L21.8030749,8.13562908 L21.8780889,9.04557185 C21.9482222,9.98880444 22,11.0173333 22,12 C22,12.9826667 21.9482222,14.0112 21.8780889,14.9544296 L21.8030749,15.8643665 C21.7899654,16.0096642 21.7766556,16.1513778 21.7633,16.2889 C21.5836,18.1406 20.1065,19.563 18.2685,19.7121 L17.447588,19.7754863 L17.447588,19.7754863 L16.5474575,19.837399 L16.5474575,19.837399 L15.5861395,19.8941917 L15.5861395,19.8941917 L14.5816652,19.9422178 C13.7316302,19.977574 12.8554231,20 12,20 C11.1445923,20 10.2683828,19.977574 9.41834133,19.9422178 L8.4138582,19.8941917 L8.4138582,19.8941917 L7.45253268,19.837399 L7.45253268,19.837399 L6.55240116,19.7754863 L6.55240116,19.7754863 L5.7315,19.7121 L5.7315,19.7121 C3.89351,19.563 2.4164,18.1406 2.23668,16.2889 L2.19692159,15.8643665 L2.19692159,15.8643665 L2.12192296,14.9544296 C2.05179556,14.0112 2,12.9826667 2,12 C2,11.0173333 2.05179556,9.98880444 2.12192296,9.04557185 L2.19692159,8.13562908 C2.21002667,7.99032988 2.22333111,7.84861444 2.23668,7.71109 C2.4164,5.85942 3.89351,4.43702 5.7315,4.28787 L6.55240056,4.22447896 L6.55240056,4.22447896 L7.45253071,4.16256888 L7.45253071,4.16256888 L8.41385476,4.10578357 L8.41385476,4.10578357 L9.41833696,4.05776684 C10.2683781,4.02241864 11.1445885,4 12,4 Z M12,6 C11.1746385,6 10.3259367,6.02172189 9.49966334,6.05610731 L8.52183015,6.10286855 L8.52183015,6.10286855 L7.58310343,6.15830836 L7.58310343,6.15830836 L6.70105832,6.21894832 L6.70105832,6.21894832 L5.89327,6.28131 L5.89327,6.28131 C5.00396,6.35348 4.31194,7.03249 4.22732,7.9043 C4.11002,9.11288 4,10.6181 4,12 C4,13.3819 4.11002,14.8871 4.22732,16.0957 C4.31194,16.9675 5.00396,17.6465 5.89327,17.7187 L6.70105832,17.781071 L6.70105832,17.781071 L7.58310343,17.8417127 L7.58310343,17.8417127 L8.52183015,17.8971491 L8.52183015,17.8971491 L9.49966334,17.9439042 C10.3259367,17.978284 11.1746385,18 12,18 C12.8253462,18 13.6740503,17.978284 14.5003284,17.9439042 L15.4781675,17.8971491 L15.4781675,17.8971491 L16.4168964,17.8417127 L16.4168964,17.8417127 L17.2989343,17.781071 L17.2989343,17.781071 L18.1067,17.7187 L18.1067,17.7187 C18.996,17.6465 19.6881,16.9675 19.7727,16.0957 C19.89,14.8871 20,13.3819 20,12 C20,10.6181 19.89,9.11288 19.7727,7.9043 C19.6881,7.03249 18.996,6.35348 18.1067,6.28131 L17.2989343,6.21894832 L17.2989343,6.21894832 L16.4168964,6.15830836 L16.4168964,6.15830836 L15.4781675,6.10286855 L15.4781675,6.10286855 L14.5003284,6.05610731 C13.6740503,6.02172189 12.8253462,6 12,6 Z M10,9.57513 C10,9.144042 10.4355556,8.86383044 10.8188444,9.01614762 L10.9,9.05551 L15.1,11.4804 C15.4692308,11.6935385 15.4976331,12.2019195 15.1852071,12.4604799 L15.1,12.5196 L10.9,14.9445 C10.5266667,15.1600067 10.0662222,14.9229711 10.0064889,14.5148668 L10,14.4249 L10,9.57513 Z' fill='#FFFFFFFF'></path></g></g></g></svg>
      </a></div>
      <div class="social"><a href="" class="icon hover:text-secondary instagram">
        <svg width='3rem' height='3rem' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><title>ins_line</title><g stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'><g id='Brand' transform='translate(-288.000000, -0.000000)'><g id='ins_line' transform='translate(288.000000, 0.000000)'><path d='M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z' fill-rule='nonzero'></path><path d='M16,3 C18.7614,3 21,5.23858 21,8 L21,16 C21,18.7614 18.7614,21 16,21 L8,21 C5.23858,21 3,18.7614 3,16 L3,8 C3,5.23858 5.23858,3 8,3 L16,3 Z M16,5 L8,5 C6.34315,5 5,6.34315 5,8 L5,16 C5,17.6569 6.34315,19 8,19 L16,19 C17.6569,19 19,17.6569 19,16 L19,8 C19,6.34315 17.6569,5 16,5 Z M12,8 C14.2091,8 16,9.79086 16,12 C16,14.2091 14.2091,16 12,16 C9.79086,16 8,14.2091 8,12 C8,9.79086 9.79086,8 12,8 Z M12,10 C10.8954,10 10,10.8954 10,12 C10,13.1046 10.8954,14 12,14 C13.1046,14 14,13.1046 14,12 C14,10.8954 13.1046,10 12,10 Z M16.5,6.5 C17.0523,6.5 17.5,6.94772 17.5,7.5 C17.5,8.05228 17.0523,8.5 16.5,8.5 C15.9477,8.5 15.5,8.05228 15.5,7.5 C15.5,6.94772 15.9477,6.5 16.5,6.5 Z' fill='#FFFFFFFF'></path></g></g></g></svg>
      </a></div>
      <div class="social"><a href="" class="icon hover:text-secondary spotify">
        <svg width='3rem' height='3rem' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><title>spotify</title><g stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'><g id='Logo' transform='translate(-720.000000, -96.000000)' fill-rule='nonzero'><g id='spotify_line' transform='translate(720.000000, 96.000000)'><path d='M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z' fill-rule='nonzero'></path><path d='M12,2 C17.5228,2 22,6.47715 22,12 C22,17.5228 17.5228,22 12,22 C6.47715,22 2,17.5228 2,12 C2,6.47715 6.47715,2 12,2 Z M12,4 C7.58172,4 4,7.58172 4,12 C4,16.4183 7.58172,20 12,20 C16.4183,20 20,16.4183 20,12 C20,7.58172 16.4183,4 12,4 Z M7.72828,14.1113 C9.14617,13.7852 10.6632,13.7887 11.9748,13.9922 C13.2512,14.1903 14.4891,14.6025 15.2517,15.2256 C15.6794,15.575 15.7429,16.205 15.3935,16.6327 C15.0709769,17.0275 14.5093627,17.1119757 14.0884713,16.8478234 L13.9864,16.7745 C13.63,16.4833 12.8083,16.1455 11.6681,15.9686 C10.563,15.7971 9.30621,15.8006 8.17648,16.0604 C7.63824,16.1842 7.10158,15.8482 6.97781,15.3099 C6.85405,14.7717 7.19004,14.235 7.72828,14.1113 Z M7.20759,11.3799 C10.4666,10.4712 14.2588,10.9854 16.5709,12.4052 C17.0415,12.6942 17.1888,13.31 16.8998,13.7807 C16.6108,14.2513 15.995,14.3986 15.5243,14.1095 C13.7412,13.0146 10.5334,12.5288 7.74479,13.3064 C7.2128,13.4548 6.66128,13.1438 6.51294,12.6118 C6.36459,12.0798 6.6756,11.5283 7.20759,11.3799 Z M6.73115,8.51383 C10.4902,7.4646 14.2265,8.00853 17.3965,9.37757 C17.9035,9.59654 18.137,10.1851 17.918,10.6921 C17.6991,11.1991 17.1105,11.4326 16.6035,11.2137 C13.7735,9.99147 10.5098,9.53558 7.26885,10.4402 C6.73689,10.5887 6.1853,10.2778 6.03682,9.74586 C5.88834,9.21391 6.1992,8.66231 6.73115,8.51383 Z' fill='#FFFFFFFF'></path></g></g></g></svg>
      </a></div>
    </div>
  </div>
  <div class="flex-none w-full max-w-screen-md mx-auto xl:mx-0">
    <main class="flex flex-col relative bg-base-100 md:bg-transparent md:gap-8 z-10 text-center mt-8" itemprop="mainEntityOfPage" itemscope>
      <div class:hidden={!loaded} class="bg-base-300 text-base-content shadow-inner p-8 md:rounded-box" in:fly={{ x: -25, duration: 300, delay: 500 }} out:fly={{ x: -25, duration: 300 }}>
        <h1>Welcome Nerd!</h1>
        <p>This is a chill podcast (available in both audio and video formats) meant to convince you to seek out and enjoy various out-of-print and hard to find books, and why you should. We dont strictly adhere to a specific genre or type of book, though scifi novels seem to feature heavily (what can I say?)</p>
        <p>Check out the written version of each review in the <a href="/episodes">episodes</a> page (or from the nav menu) for longer and usually slightly more detailed versions of the podcast episodes.</p>
        <p>If you have suggestions for books you think I should include in this show, email me please! Link below.</p>
        <button use:clickToCopy={email} class="btn btn-outline">Clicky to Copy Email</button>
      </div>
    </main>
    <div class:hidden={!loaded} class="sticky bottom-0 md:static md:mt-8" in:fly={{ x: -25, duration: 300, delay: 500 }} out:fly={{ x: -25, duration: 300 }}>
      <div class="divider mt-0 mb-8 hidden lg:flex" />
      <Footer />
    </div>
  </div>
</div>

<style>
  h1 {
    font-size: 2rem;
  }

  p {
    margin: 2rem 0;
  }

  .icon:hover svg path:last-child {
    fill: hsl(var(--s) / var(--tw-text-opacity));
    transition: all .3s ease;
  }
</style>
